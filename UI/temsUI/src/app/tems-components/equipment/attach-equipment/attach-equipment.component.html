<div class="card">
    <div class="card-body">
        <div class="card-title">
            {{ 'equipment.attach' | translate }}
        </div>
        <hr>
        <p class="text-muted">
            {{ 'equipment.attachTip' | translate }} {{ equipment.definition.identifier }}.
        </p>
        <form [formGroup]="attachEquipmentFormGroup" (submit)="onSubmit(attachEquipmentFormGroup.controls)">
            <mat-form-field>
                <mat-label>
                    {{ 'equipment.availableDefinitions' | translate }}
                </mat-label>
                <mat-select formControlName="equipmentDefinition" 
                (selectionChange)="onDefinitionChanged($event)">
                  <mat-option *ngFor="let def of equipment.definition.children" [value]="def.id">{{ def.identifier }}</mat-option>
                </mat-select>
              </mat-form-field>
              <app-chips-autocomplete formControlName="equipmentToAttach"
              label="Chose one or more equipemnt to attach" 
              [autocompleteOptions]="availableEquipment">
              </app-chips-autocomplete>
              <p class="text-muted">
                  <mat-icon class="text-muted">info</mat-icon> 
                  {{ 'equipment.detachTip' | translate }}
              </p>
               <button 
                mat-button
                type="submit" 
                class="btn-gradient-primary mr-2">
                {{ 'equipment.attach' | translate }}
            </button>
        </form>
    </div>
</div>